<!DOCTYPE html>
<html lang="en">
<head>
	<title>Hex map builder</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8" />
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="@ODILeeds">
	<meta name="twitter:url" property="og:url" content="https://odileeds.org/projects/hexmaps/builder">
	<meta name="twitter:title" property="og:title" content="Hex map builder">
	<meta name="twitter:description" property="og:description" content="Create your own point-topped hex map from a data file.">
	<meta name="twitter:image" property="og:image" content="https://odileeds.org/projects/hexmaps/hexmap.png">
	<link rel="StyleSheet" href="resources/style.css" type="text/css" />
	<script type="text/javascript" src="https://slowe.github.io/stuquery/js/stuquery.js"></script>
	<script type="text/javascript" src="https://slowe.github.io/stuquery/js/stuquery.svg.js"></script>
	<script type="text/javascript" src="resources/stuquery.hexmap.js"></script>
	<script type="text/javascript" src="resources/builder.js"></script>
	<script>
	var builder;
	S(document).ready(function(){
		builder = new Builder('hexmap',1080,1220,2);
	});
	</script>
	<style>
	.dropzone {
		border: 2px dashed #999999;
		border-radius: 5px;
		color: #333333;
		padding: 25px;
		text-align: center;
		position: relative;
	}
	.dropzone.loaded {
		border: 2px solid #333333;
		color: #333333;
	}
	.dropzone.loaded .helpertext {
		display: none;
	}
	.dropzone.drop {
		background-color: #ddd;
	}
	.dropzone input {
		position: absolute;
		left: 0px;
		top: 0px;
		width: 100%;
		height: 100%;
		opacity: 0;
	}
	</style>
</head>
<body>

	<div id="main">

		<div class="b1-bg">
			<div class="holder">
				<div id="infobutton" style="float:right;">&#8505;</div>
				<h1>Hex map builder</h1>
			</div>
		</div>

		<div class="holder">
			<p>We've created a tool to help you make hex maps from your own data (we <a href="https://odileeds.org/blog/2017-05-08-mapping-election-with-hexes">created one</a> for <a href="constituencies.html">UK parliamentary constituencies</a>). Load a csv file (or a <a href="hexjson.html">HexJSON file</a>). The first column should contain a unique key. Move the hexes around until you are happy (click on a hex you want to move then click on an empty hex). Save the output.</p>
			
			<div id="drop_zone" class="dropzone block">
				<div class="helpertext">
					Drop a CSV or HexJSON file here (or click to browse files)<br />
					<input id="standard_files" class="fileselect" type="file" title="browse" name="files[]" multiple="multiple" accept=".csv, .hexjson">
				</div>
			</div>
		</div>

		<div id="hexmap"></div>

		<div class="holder" style="text-align:center;">
			<p>
			<button id="save" class="c10-bg">Save hexes as <span class="line">H</span>exJSON</button>
			<button id="savesvg" class="c10-bg">Save <span class="line">m</span>ap as SVG</button>
			</p>
		</div>
		
	</div>
	
	<footer class="b1-bg">
		<div class="holder">
			&copy; 2017 <a href="https://odileeds.org/">ODI Leeds</a>. Released under an MIT license. <a href="https://github.com/odileeds/hexmaps">Source on Github</a>.
			<br /><a href="http://www.electoralcommission.org.uk/our-work/our-research/electoral-data">2015 election results from the Electoral Commission</a>.
			<br /><a href="https://docs.google.com/spreadsheets/d/1b71SDKPFbk-ktmUTXmDpUP5PT299qq24orEA0_TOpmw/edit#gid=579044181">EU referendum estimates</a> from <a href="http://www.tandfonline.com/doi/abs/10.1080/17457289.2017.1287081?journalCode=fbep20">Hanretty 2017</a> (<a href="https://medium.com/@chrishanretty/final-estimates-of-the-leave-vote-or-areal-interpolation-and-the-uks-referendum-on-eu-membership-5490b6cab878">blog post</a>).
			<br /><a href="https://democracyclub.org.uk/data/">2017 general election candidates are from Democracy Club</a> under a CC-BY-SA 3.0 license. You can <a href="https://democracyclub.org.uk/quests/">help to add missing candidates</a>.
		</div>
	</footer>
	
</body>
</html>